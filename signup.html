<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Create Account — Purchase</title>
<style>
body { font-family: system-ui, sans-serif; background-color: #0b0c10; color:#fff; height:100vh; margin:0; display:flex; flex-direction:column; padding:10px 25px 25px 25px; }
.header { display:flex; align-items:center; justify-content:space-between; margin-bottom:20px; }
.back-arrow { font-size:1.8rem; color:#fff; text-decoration:none; }
.logo-text { font-weight:700; font-size:1.6rem; color:#fcd535; text-align:center; flex-grow:1; }
.logo-image { width:130px; height:auto; }
h1 { font-size:1.9rem; margin-top:0; margin-bottom:5px; text-align:left; }
p.sub { color:#aaa; margin-bottom:20px; text-align:left; }
label { display:block; font-size:1rem; margin-bottom:5px; }
.input-group { position:relative; margin-bottom:15px; }
input { width:100%; padding:14px 40px 14px 12px; border-radius:8px; border:1px solid #333; background:#1c1f24; color:#fff; font-size:1rem; box-sizing:border-box; }
.toggle-password { position:absolute; right:10px; top:50%; transform:translateY(-50%); cursor:pointer; fill:#888; width:22px; height:22px; transition:fill .3s; }
.toggle-password:hover { fill:#fcd535; }
p.password-rule { font-size:.9rem; color:#999; margin-top:-5px; margin-bottom:15px; }
.checkbox-inline { display:flex; align-items:flex-start; font-size:1rem; line-height:1.5; font-weight:600; color:#ccc; margin-bottom:15px; cursor:pointer; user-select:none; }
.checkbox-icon { font-size:18px; margin-right:5px; margin-top:3px; }
.checkbox-inline a { color:#fcd535; text-decoration:none; }
.checkbox-inline a:hover { text-decoration:underline; }
button { width:100%; padding:15px; background-color:#fcd535; border:none; border-radius:40px; font-size:1.1rem; font-weight:600; color:#0b0c10; cursor:not-allowed; opacity:.5; transition:.3s; }
button.active { cursor:pointer; opacity:1; }
button.active:hover { background-color:#ffd84d; }
</style>
</head>
<body>

<div class="signup-screen">
  <div class="header">
    <a href="index.html" class="back-arrow">&lt;</a>
    <div class="logo-text">Purchase</div>
    <img src="IMG_1124.jpeg" alt="Logo" class="logo-image">
  </div>

  <h1>Create Account</h1>
  <p class="sub">Get started in as little as 2 minutes</p>

  <form id="signupForm">
    <label for="email">Email</label>
    <div class="input-group">
      <input type="email" id="email" placeholder="Enter your email" required>
    </div>

    <label for="password">Password</label>
    <div class="input-group">
      <input type="password" id="password" placeholder="Enter your password" required>
    </div>

    <p class="password-rule">Password must be at least 8 characters, include at least 1 uppercase letter, and 2 numbers.</p>

    <div class="checkbox-inline" id="checkboxWrapper">
      <span class="checkbox-icon" id="checkboxIcon">☑️</span>
      <label for="agree">
        I am over 18 years old and I agree to the 
        <a href="#">Terms of Use</a> and 
        <a href="#">Privacy Policy</a>.
      </label>
      <input type="checkbox" id="agree" required style="display:none;">
    </div>

    <button type="submit" id="registerBtn" disabled>Register</button>
  </form>
</div>

<script>
const email = document.getElementById('email');
const password = document.getElementById('password');
const agree = document.getElementById('agree');
const registerBtn = document.getElementById('registerBtn');
const checkboxIcon = document.getElementById('checkboxIcon');
const checkboxWrapper = document.getElementById('checkboxWrapper');

// Existing emails simulation
const existingEmails = ["test@gmail.com", "user@gmail.com", "example@gmail.com"];

function validatePassword(pwd) {
  return pwd.length >= 8 && /[A-Z]/.test(pwd) && (pwd.match(/\d/g) || []).length >= 2;
}

function validateForm() {
  if (email.value && validatePassword(password.value) && agree.checked) {
    registerBtn.disabled = false;
    registerBtn.classList.add('active');
  } else {
    registerBtn.disabled = true;
    registerBtn.classList.remove('active');
  }
}

email.addEventListener('input', validateForm);
password.addEventListener('input', validateForm);
checkboxWrapper.addEventListener('click', () => {
  agree.checked = !agree.checked;
  checkboxIcon.textContent = agree.checked ? "✅" : "☑️";
  validateForm();
});

// Show yellow toast and redirect to login
function showToastAndRedirect(message) {
  const toast = document.createElement('div');
  toast.textContent = message;
  toast.style.position = 'fixed';
  toast.style.top = '20px';
  toast.style.right = '20px';
  toast.style.backgroundColor = '#FFD700';
  toast.style.color = '#000';
  toast.style.padding = '15px 20px';
  toast.style.borderRadius = '8px';
  toast.style.fontWeight = '600';
  toast.style.fontSize = '1rem';
  toast.style.boxShadow = '0 4px 6px rgba(0,0,0,0.2)';
  toast.style.zIndex = '9999';
  document.body.appendChild(toast);

  setTimeout(() => {
    toast.remove();
    window.location.href = 'login.html';
  }, 2000);
}

document.getElementById('signupForm').addEventListener('submit', (e) => {
  e.preventDefault();
  
  if(existingEmails.includes(email.value.toLowerCase().trim())) {
    showToastAndRedirect("This email already has an existing account.");
    return;
  }

  alert("Proceed to create account and set PIN here!");
});
</script>
</body>
</html>
